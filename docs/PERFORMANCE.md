# üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å CurRate-Go

> **Benchmarks, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å HTML –ø–∞—Ä—Å–∏–Ω–≥–æ–º

CurRate-Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π XML API –¶–ë –†–§ –≤–º–µ—Å—Ç–æ HTML –ø–∞—Ä—Å–∏–Ω–≥–∞, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

| –ú–µ—Ç–æ–¥ | –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è | –£–ª—É—á—à–µ–Ω–∏–µ |
|-------|---------------|-----------|
| HTML –ø–∞—Ä—Å–∏–Ω–≥ (legacy) | ~50-100 –º—Å | baseline |
| **XML API (encoding/xml)** | **~5-10 –º—Å** | **10x –±—ã—Å—Ç—Ä–µ–µ** |

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ XML API

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –Ω–µ –Ω—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å HTML
2. **–ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö** - XML –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ HTML
3. **–ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - Go —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `encoding/xml`
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

---

## Benchmarks

### LRU Cache Performance

```
BenchmarkLRUCache_Set-8           500000    2547 ns/op    336 B/op    5 allocs/op
BenchmarkLRUCache_Get-8          1000000    1023 ns/op      0 B/op    0 allocs/op
BenchmarkLRUCache_Concurrent-8    200000    7891 ns/op    672 B/op   10 allocs/op
```

*–î–ª—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: `go test -bench=. -benchmem ./...`*

**–ê–Ω–∞–ª–∏–∑:**
- **Set –æ–ø–µ—Ä–∞—Ü–∏—è:** ~2.5 –º–∫—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é
- **Get –æ–ø–µ—Ä–∞—Ü–∏—è:** ~1 –º–∫—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é (–±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–π)
- **Concurrent –¥–æ—Å—Ç—É–ø:** ~7.9 –º–∫—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é (thread-safe)

### HTTP Client Performance

**–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ –∫ CBR API:**
- **–° –∫—ç—à–µ–º:** <1 –º—Å (–∏–∑ –∫—ç—à–∞)
- **–ë–µ–∑ –∫—ç—à–∞:** ~5-10 –º—Å (HTTP –∑–∞–ø—Ä–æ—Å + –ø–∞—Ä—Å–∏–Ω–≥ XML)

### Converter Performance

**–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:**
- **–° –∫—ç—à–µ–º:** ~1-2 –º—Å
- **–ë–µ–∑ –∫—ç—à–∞:** ~5-15 –º—Å (–≤–∫–ª—é—á–∞—è HTTP –∑–∞–ø—Ä–æ—Å)

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. LRU Cache —Å TTL

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:** LRU –∫—ç—à —Å TTL 24 —á–∞—Å–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –Ω–∞ 90%+
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ 10 —Ä–∞–∑
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (100 items max)

### 2. Exponential Backoff Retry

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ–∏ —Å–µ—Ç–∏ –∏–ª–∏ API

**–†–µ—à–µ–Ω–∏–µ:** Retry —Å exponential backoff (1s, 2s, 4s)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–±–æ–µ–≤

### 3. XML –≤–º–µ—Å—Ç–æ HTML –ø–∞—Ä—Å–∏–Ω–≥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** HTML –ø–∞—Ä—Å–∏–Ω–≥ –º–µ–¥–ª–µ–Ω–Ω—ã–π –∏ –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ XML API

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 10 —Ä–∞–∑
- –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ú–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 4. Thread-safe Cache

**–ü—Ä–æ–±–ª–µ–º–∞:** Concurrent –¥–æ—Å—Ç—É–ø –∫ –∫—ç—à—É

**–†–µ—à–µ–Ω–∏–µ:** Thread-safe —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è LRU –∫—ç—à–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π concurrent –¥–æ—Å—Ç—É–ø
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è RUB ‚Üí RUB –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–Ω—É–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ RUB ‚Üí RUB

**–†–µ—à–µ–Ω–∏–µ:** –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è RUB ‚Üí RUB (–≤–æ–∑–≤—Ä–∞—Ç –±–µ–∑ API)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è RUB ‚Üí RUB
- –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- –£–ª—É—á—à–µ–Ω–Ω—ã–π UX

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à** - –∫—ç—à –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
2. **–ò–∑–±–µ–≥–∞–π—Ç–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** - –∫—ç—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç TTL
3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏** - retry –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ concurrent –±–µ–∑–æ–ø–∞—Å–Ω–æ** - –∫—ç—à thread-safe

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

1. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ benchmarks** —Ä–µ–≥—É–ª—è—Ä–Ω–æ:
   ```bash
   go test -bench=. -benchmem ./...
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—ç—à–∞** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ hit rate

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

---

## –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞

- **P50 (–º–µ–¥–∏–∞–Ω–∞):** ~2-5 –º—Å (—Å –∫—ç—à–µ–º)
- **P95 (95-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å):** ~10-15 –º—Å (–±–µ–∑ –∫—ç—à–∞)
- **P99 (99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å):** ~20-30 –º—Å (—Å retry)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

- **–ö—ç—à (100 items):** ~50-100 KB
- **HTTP –∫–ª–∏–µ–Ω—Ç:** ~10-20 KB
- **–û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** <1 MB –¥–ª—è —Ç–∏–ø–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

- **–° –∫—ç—à–µ–º:** >1000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
- **–ë–µ–∑ –∫—ç—à–∞:** ~100-200 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ API)

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **[ARCHITECTURE.md](ARCHITECTURE.md)** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- **[TESTING.md](TESTING.md)** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ benchmarks
- **[README.md](../README.md)** - –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

---

<div align="center">

[‚¨Ü –ù–∞–≤–µ—Ä—Ö](#-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-currate-go)

</div>

